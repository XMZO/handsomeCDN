!function(){"use strict";const n="https://cdn.loli-con.cn/imgs/bg-manifest.json",t="https://cdn.loli-con.cn/imgs/",e="#6A6B6F",c="(max-width: 767px)";async function o(){const o=await async function(){try{const e=await fetch(n);if(!e.ok)return[];const c=await e.json();return Array.isArray(c)?c.map(n=>n.startsWith("http")?n:t+n):[]}catch{return console.warn("[bg-mix] manifest 加载失败"),[]}}();if(!o.length)return void console.warn("[bg-mix] manifest 为空，无法设置背景");const r=window.matchMedia(c).matches,a=o.filter(n=>r?n.includes("/mobile/"):n.includes("/pc/")),i=a.length?a:o;!function(n){const t=`\n      html.bg {\n        background: url(${JSON.stringify(n)}) center center no-repeat fixed ${e};\n        background-size: cover;\n      }\n      .cool-transparent .off-screen+#content {\n        background: url(${JSON.stringify(n)}) center center no-repeat fixed ${e};\n        background-size: cover;\n      }\n    `,c=document.createElement("style");c.textContent=t,document.head.appendChild(c)}(i[Math.floor(Math.random()*i.length)])}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o,{once:!0}):o()}();